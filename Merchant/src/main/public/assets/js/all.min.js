function MyCtrl($scope){$scope.number=""}!function(){"use strict";angular.module("merchantApp",["ui.router","ui.bootstrap","ngAnimate","pascalprecht.translate","LocalStorageModule","ngLoadingSpinner"])}(),angular.module("merchantApp").directive("eatClickIf",["$parse","$rootScope",function($parse,$rootScope){return{priority:100,restrict:"A",compile:function($element,attr){var fn=$parse(attr.eatClickIf);return{pre:function(scope,element){var eventName="click";element.on(eventName,function(event){var callback=function(){if(fn(scope,{$event:event}))return event.stopImmediatePropagation(),event.preventDefault(),!1};$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})},post:function(){}}}}}]),angular.module("merchantApp").directive("numbersOnly",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(void 0===inputValue)return"";var transformedInput=inputValue.replace(/[^0-9]/g,"");return transformedInput!=inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}),function(){angular.module("merchantApp").directive("usSpinner",["$http","$rootScope",function($http,$rootScope){return{link:function(scope,elm,attrs){$rootScope.spinnerActive=!1,scope.isLoading=function(){return $http.pendingRequests.length>0},scope.$watch(scope.isLoading,function(loading){$rootScope.spinnerActive=loading,loading?elm.removeClass("ng-hide"):elm.addClass("ng-hide")})}}}])}.call(this),function(){"use strict";function NavigationCtrl($scope,$translate,$rootScope,localStorageService,$state){var vm=this;vm.changeCurrentLanguage=function(key){$translate.use(key),localStorageService.cookie.set("language",key),$state.reload(),console.log($translate.use()),console.log("Poziva metod")}}angular.module("merchantApp").controller("NavigationCtrl",NavigationCtrl),NavigationCtrl.$inject=["$scope","$translate","$rootScope","localStorageService","$state"]}(),function(){"use strict";function UrlService($http){var getMessageByPaymentId=function(paymentId){return $http.post("api/paymentMessage",paymentId).then(function(response){return response}).catch(function(response){return console.log("DOSLO DO CATCH PAYMENTMESSAGE"),response})};return{getMessageByPaymentId:getMessageByPaymentId}}angular.module("merchantApp").factory("UrlService",UrlService),UrlService.$inject=["$http"]}(),function(){"use strict";function UrlCtrl($scope,$stateParams,UrlService,$window,$translate){var vm=this,paymentId=$stateParams.paymentId;console.log("paymentiD je : "),console.log(paymentId),UrlService.getMessageByPaymentId(paymentId).then(function(response){console.log(response.data),vm.status=response.data.status,vm.result=response.data.result,console.log(vm.status),console.log(vm.result),"English"==$translate.use()&&("SUCCESSFUL"==vm.status?vm.message="Your payment hes been successfull. Check your email for the report":"FAILED"==vm.status&&"INSUFFICIENT_FUNDS"==vm.result?vm.message="Insufficient funds on your bank account":"FAILED"==vm.status&&"INVALID_DATE"==vm.result?vm.message="Your card date is not valid":"FAILED"==vm.status&&"CVC_INVALID"==vm.result?vm.message="Your CVV2/CVC2 is invalid.":"ERROR"==vm.status?vm.message="Error has occurred on server side, please try again later":"FAILED"==vm.status&&"INVALID_CARD"==vm.result&&(vm.message="The credit card is invalid")),"Serbian"==$translate.use()&&("SUCCESSFUL"==vm.status?vm.message="Plaćanje je uspešno. Provertite vaš email za izveštaj":"FAILED"==vm.status&&"INSUFFICIENT_FUNDS"==vm.result?vm.message="Nedovoljno sredstava na vašem bankovnom računu":"FAILED"==vm.status&&"INVALID_DATE"==vm.result?vm.message="Datum na kartici nije validan":"FAILED"==vm.status&&"CVC_INVALID"==vm.result?vm.message="Bezbednosti kod nije validan":"ERROR"==vm.status?vm.message="Desila se greška na serveru, pokušajte ponovo":"FAILED"==vm.status&&"INVALID_CARD"==vm.result&&(vm.message="Nevažeća kreditna kartica"))}),vm.redirectBackOnBank=function(){$window.location="https://localhost:7070/payment?paymentId="+paymentId}}angular.module("merchantApp").controller("UrlCtrl",UrlCtrl),UrlCtrl.$inject=["$scope","$stateParams","UrlService","$window","$translate"]}(),function(){"use strict";function HomeService($http){var sayHello=function(){return"Hello "};return{sayHello:sayHello}}angular.module("merchantApp").factory("HomeService",HomeService),HomeService.$inject=["$http"]}(),function(){"use strict";function HomeCtrl($scope,HomeService,$translate){var vm=this;vm.proba="RADI",vm.hello=HomeService.sayHello(),vm.test="aaaa",vm.language=$translate.use()}angular.module("merchantApp").controller("HomeCtrl",HomeCtrl),HomeCtrl.$inject=["$scope","HomeService","$translate"]}(),function(){"use strict";function BuyService($http){var getRiskSubcategoriesBasedOnLanguage=function(language){return $http.post("api/risksubcategories",language).then(function(response){return response}).catch(function(response){return console.log("USAO JE U CATCH"),response})},getRiskCategories=function(){return $http.get("api/riskcategories").then(function(response){return response}).catch(function(response){return response})},getInsuranceTypes=function(){return $http.get("api/insurancetypes").then(function(response){return response}).catch(function(response){return response})},getVehicle=function(){return $http.get("api/vehicles").then(function(response){return response}).catch(function(response){return response})},buy=function(insuranceInfo){return $http.post("api/buy",insuranceInfo).then(function(response){return console.log("Vracen odgovor from BUY"),response}).catch(function(response){return console.log("doslo do CATCH BUY"),response})},postCalculate=function(itemsForDrools){return $http.post("api/price",itemsForDrools).then(function(response){return console.log("CKEDA ODGOVOR"),console.log(response),console.log(response.data),response}).catch(function(response){return console.log("DOSLO DO CATCH"),response})},getSubsForCat=function(subCategories,category){for(var cat=[],i=0;i<subCategories.length;i++)subCategories[i].riskCategory.name==category&&cat.push(subCategories[i]);return cat};return{getRiskSubcategoriesBasedOnLanguage:getRiskSubcategoriesBasedOnLanguage,getRiskCategories:getRiskCategories,getSubsForCat:getSubsForCat,getInsuranceTypes:getInsuranceTypes,postCalculate:postCalculate,getVehicle:getVehicle,buy:buy}}angular.module("merchantApp").factory("BuyService",BuyService),BuyService.$inject=["$http"]}(),function(){"use strict";function radioTrackBy(){return{restrict:"A",scope:{ngModel:"=",ngValue:"=",radioTrackBy:"@"},link:function(ng){null!==ng.ngModel&&ng.ngValue[ng.radioTrackBy]===ng.ngModel[ng.radioTrackBy]&&(ng.ngModel=ng.ngValue)}}}angular.module("merchantApp").directive("radioTrackBy",radioTrackBy)}(),function(){"use strict";function buyPersonsDirective(){var buyPersonsDirective={restrict:"E",link:function(scope,element,attrs,ctrl){},templateUrl:"app/components/buy/views/buyPersonsDirective.html",scope:{person:"=",formFourth:"=",submittedFourth:"="}};return buyPersonsDirective}angular.module("merchantApp").directive("buyPersonsDirective",buyPersonsDirective)}(),function(){"use strict";function buyDirective(){var buyDirective={restrict:"E",link:function(scope,element,attrs,ctrl){console.log(scope.ageIndex)},templateUrl:"app/components/buy/views/buyDirective.html",scope:{age:"=",ageIndex:"=",ageTyped:"=",onlyNumbers:"=",form:"=",submittedFirst:"="}};return buyDirective}angular.module("merchantApp").directive("buyDirective",buyDirective)}(),function(){"use strict";function BuyCtrl($scope,$rootScope,BuyService,$state,$timeout,$window,$translate,localStorageService){var vm=this;console.log($translate.use()),console.log(vm.form),vm.onlyNumbers=/^\d+$/,vm.isDisabled=!1,$scope.buttonDisable=function(){console.log("USAO U FUNK"),$timeout(function(){$scope.isDisabled=!0,console.log("update with timeout fired")},0)},vm.regionSelected=localStorageService.cookie.get("regionSelected"),vm.sumToSelected=localStorageService.cookie.get("sumToSelected"),vm.sportSelected=localStorageService.cookie.get("sportSelected"),vm.startDate=localStorageService.cookie.get("startDate"),vm.endDate=localStorageService.cookie.get("endDate"),vm.ageTyped=localStorageService.cookie.get("ageTyped"),vm.persons=localStorageService.cookie.get("persons"),vm.droolPrices={premiumPrice:localStorageService.cookie.get("droolPrices.premiumPrice"),discountPrice:localStorageService.cookie.get("droolPrices.discountPrice"),taxPrice:localStorageService.cookie.get("droolPrices.taxPrice"),totalPrice:localStorageService.cookie.get("droolPrices.totalPrice")},vm.insuranceTypeRoadCheck=localStorageService.cookie.get("insuranceTypeRoadCheck"),vm.insuranceTypeHomeCheck=localStorageService.cookie.get("insuranceTypeHomeCheck"),vm.towingCheck=localStorageService.cookie.get("towingCheck"),vm.towingSelected=localStorageService.cookie.get("towingSelected"),vm.repairsCheck=localStorageService.cookie.get("repairsCheck"),vm.repairSelected=localStorageService.cookie.get("repairSelected"),vm.accommodationsCheck=localStorageService.cookie.get("accommodationsCheck"),vm.accommodationSelected=localStorageService.cookie.get("accommodationSelected"),vm.alternativeRidesCheck=localStorageService.cookie.get("alternativeRidesCheck"),vm.alternativeRideSelected=localStorageService.cookie.get("alternativeRideSelected"),vm.surfaceSelected=localStorageService.cookie.get("surfaceSelected"),vm.ageApartmentSelected=localStorageService.cookie.get("ageApartmentSelected"),vm.valueApartmentSelected=localStorageService.cookie.get("valueApartmentSelected"),vm.disasterSelected=localStorageService.cookie.get("disasterSelected"),vm.vehicle={make:localStorageService.cookie.get("vehicle.make"),registrationNumber:localStorageService.cookie.get("vehicle.registrationNumber"),ownerFirstName:localStorageService.cookie.get("vehicle.ownerFirstName"),ownerLastName:localStorageService.cookie.get("vehicle.ownerLastName"),ownerJmbg:localStorageService.cookie.get("vehicle.ownerJmbg"),type:localStorageService.cookie.get("vehicle.type"),vinNumber:localStorageService.cookie.get("vehicle.vinNumber"),yearOfProduction:localStorageService.cookie.get("vehicle.yearOfProduction")},vm.home={address:localStorageService.cookie.get("home.address"),ownerFirstName:localStorageService.cookie.get("home.ownerFirstName"),ownerLastName:localStorageService.cookie.get("home.ownerLastName"),ownerJMBG:localStorageService.cookie.get("home.ownerJMBG")},vm.buyer={firstName:localStorageService.cookie.get("buyer.firstName"),lastName:localStorageService.cookie.get("buyer.lastName"),jmbg:localStorageService.cookie.get("buyer.jmbg"),passportNumber:localStorageService.cookie.get("buyer.passportNumber"),address:localStorageService.cookie.get("buyer.address"),phoneNumber:localStorageService.cookie.get("buyer.phoneNumber"),email:localStorageService.cookie.get("buyer.email")},vm.personHolder={firstName:localStorageService.cookie.get("personHolder.firstName"),lastName:localStorageService.cookie.get("personHolder.lastName"),address:localStorageService.cookie.get("personHolder.address"),jmbg:localStorageService.cookie.get("personHolder.jmbg"),passportNumber:localStorageService.cookie.get("personHolder.passportNumber"),phoneNumber:localStorageService.cookie.get("personHolder.phoneNumber")},vm.contractor=localStorageService.cookie.get("contractor"),null===vm.contractor&&(vm.contractor=!0),vm.totalPersons=localStorageService.cookie.get("totalPersons"),console.log(vm.totalPersons),BuyService.getRiskSubcategoriesBasedOnLanguage($translate.use()).then(function(response){console.log(response.data),console.log(response.data[0].nameTranslate.name),console.log(response.data[0].nameTranslate),vm.regions=BuyService.getSubsForCat(response.data,"Region"),vm.ages=BuyService.getSubsForCat(response.data,"Age"),vm.sumTo=BuyService.getSubsForCat(response.data,"Sum insured"),vm.sports=BuyService.getSubsForCat(response.data,"Sport"),vm.towings=BuyService.getSubsForCat(response.data,"Towing"),vm.repairs=BuyService.getSubsForCat(response.data,"Repairs"),vm.accommodations=BuyService.getSubsForCat(response.data,"Accommodation"),vm.alternativeRides=BuyService.getSubsForCat(response.data,"Alternative ride"),vm.surfaces=BuyService.getSubsForCat(response.data,"Surface"),vm.ageApartments=BuyService.getSubsForCat(response.data,"Age apartment"),vm.valueApartments=BuyService.getSubsForCat(response.data,"Value apartment estimated"),vm.disasters=BuyService.getSubsForCat(response.data,"Insured disaster"),console.log("regions:"),console.log(vm.regions)}),BuyService.getRiskCategories().then(function(response){vm.catgories=response.data}),BuyService.getInsuranceTypes().then(function(response){vm.insuranceTypes=response.data,vm.insuranceTypeRoad=vm.insuranceTypes[0],vm.insuranceTypeHome=vm.insuranceTypes[1]}),BuyService.getVehicle().then(function(response){vm.vehciles=response.data}),vm.startDate=new Date;var forwardDate=new Date;forwardDate.setDate(forwardDate.getDate()+1),vm.endDate=forwardDate,vm.dateOptionsStart={maxDate:new Date(2020,5,21),minDate:new Date,startingDay:1},vm.openStart=function(){console.log("OPENED"),$timeout(function(){vm.startOpened=!0})},vm.openEnd=function(){console.log("OPENED"),$timeout(function(){vm.endOpened=!0})},$scope.$watch("vm.startDate",function(newValue,oldValue){vm.startDate.getTime()>vm.endDate.getTime()&&(vm.endDate=vm.startDate),vm.dateOptionsEnd={minDate:vm.startDate}}),vm.calculateFirstStep=function(){if(console.log("SA SESIJE"),console.log(vm.persons),vm.submittedFirst=!0,!(vm.form.$invalid||vm.endDate.getTime()<=vm.startDate.getTime())&&(void 0!==vm.ageTyped[0]&&"0"!=vm.ageTyped[0]&&""!==vm.ageTyped[0]||"0"!=vm.ageTyped[1]&&void 0!==vm.ageTyped[1]&&""!==vm.ageTyped[1]||"0"!=vm.ageTyped[2]&&void 0!==vm.ageTyped[2]&&""!==vm.ageTyped[2])){vm.submittedFirst=!1,localStorageService.cookie.set("regionSelected",vm.regionSelected),localStorageService.cookie.set("sumToSelected",vm.sumToSelected),localStorageService.cookie.set("sportSelected",vm.sportSelected),localStorageService.cookie.set("startDate",vm.startDate),localStorageService.cookie.set("endDate",vm.endDate),localStorageService.cookie.set("ageTyped",vm.ageTyped);var startDay=vm.startDate.getDate(),startMonth=vm.startDate.getMonth()+1,startYear=vm.startDate.getFullYear(),startDate=startDay+"."+startMonth+"."+startYear;vm.startDateParsed=startDate;var endDay=vm.endDate.getDate(),endMonth=vm.endDate.getMonth(),endYear=vm.endDate.getFullYear(),endDate=endDay+"."+endMonth+"."+endYear;vm.endDateParsed=endDate;var size=0;vm.ages.forEach(function(){size++}),console.log("SIZE JE:"),console.log(size),console.log(vm.ages);for(var i=0;i<size;i++)console.log(vm.ages[i]);for(var j=0;j<size;j++)void 0===vm.ageTyped[j]&&(vm.ageTyped[j]="0");for(var sum=0,k=0;k<size;k++)sum+=parseInt(vm.ageTyped[k]);vm.totalPersons=sum,localStorageService.cookie.set("totalPersons",vm.totalPersons),vm.persons=[];for(var personInit={},i=0;i<vm.totalPersons-1;i++)personInit={address:"",firstName:"",lastName:"",passportNumber:"",phoneNumber:"",jmbg:""},vm.persons.push(personInit);console.log("PERSON INIT"),console.log(vm.persons),localStorageService.cookie.set("persons",vm.persons),$state.go("buy.secondStep")}},vm.calculateSecondStep=function(){if(vm.insuranceTypeRoadCheck&&(vm.submittedSecondRoad=!0),vm.insuranceTypeHomeCheck&&(vm.submittedSecondHome=!0),!vm.formSecondRoad.$invalid&&!vm.formSecondHome.$invalid&&(vm.towingCheck!==!1&&void 0!==vm.towingCheck||vm.repairsCheck!==!1&&void 0!==vm.repairsCheck||vm.accommodationsCheck!==!1&&void 0!==vm.accommodationsCheck||vm.alternativeRidesCheck!==!1&&void 0!==vm.alternativeRidesCheck||!vm.submittedSecondRoad)){vm.submittedSecondRoad=!1,vm.submittedSecondHome=!1,localStorageService.cookie.set("insuranceTypeRoadCheck",vm.insuranceTypeRoadCheck),localStorageService.cookie.set("insuranceTypeHomeCheck",vm.insuranceTypeHomeCheck),localStorageService.cookie.set("towingCheck",vm.towingCheck),localStorageService.cookie.set("towingSelected",vm.towingSelected),localStorageService.cookie.set("repairsCheck",vm.repairsCheck),localStorageService.cookie.set("repairSelected",vm.repairSelected),localStorageService.cookie.set("accommodationsCheck",vm.accommodationsCheck),localStorageService.cookie.set("accommodationSelected",vm.accommodationSelected),localStorageService.cookie.set("alternativeRidesCheck",vm.alternativeRidesCheck),localStorageService.cookie.set("alternativeRidesCheck",vm.alternativeRidesCheck),localStorageService.cookie.set("surfaceSelected",vm.surfaceSelected),localStorageService.cookie.set("ageApartmentSelected",vm.ageApartmentSelected),localStorageService.cookie.set("valueApartmentSelected",vm.valueApartmentSelected),localStorageService.cookie.set("disasterSelected",vm.disasterSelected),localStorageService.cookie.set("vehicle.registrationNumber",vm.vehicle.registrationNumber),localStorageService.cookie.set("vehicle.make",vm.vehicle.make),localStorageService.cookie.set("vehicle.ownerFirstName",vm.vehicle.ownerFirstName),localStorageService.cookie.set("vehicle.ownerLastName",vm.vehicle.ownerLastName),localStorageService.cookie.set("vehicle.ownerJmbg",vm.vehicle.ownerJmbg),localStorageService.cookie.set("vehicle.type",vm.vehicle.type),localStorageService.cookie.set("vehicle.vinNumber",vm.vehicle.vinNumber),localStorageService.cookie.set("vehicle.yearOfProduction",vm.vehicle.yearOfProduction),localStorageService.cookie.set("home.address",vm.home.address),localStorageService.cookie.set("home.ownerFirstName",vm.home.ownerFirstName),localStorageService.cookie.set("home.ownerLastName",vm.home.ownerLastName),localStorageService.cookie.set("home.ownerJMBG",vm.home.ownerJMBG);var ageId=[],ageCount=[],ageList=[],sizeAge=0;vm.ages.forEach(function(){sizeAge++});for(var i=0;i<sizeAge;i++)ageId[i]=vm.ageTyped.idAgeSub[i],ageCount[i]=vm.ageTyped[i],ageList.push({ageId:ageId[i],ageCount:ageCount[i]});var listItemsForDrools=[vm.regionSelected,vm.sumToSelected,vm.sportSelected,vm.towingSelected,vm.repairSelected,vm.accommodationSelected,vm.alternativeRideSelected,vm.surfaceSelected,vm.ageApartmentSelected,vm.valueApartmentSelected,vm.disasterSelected];vm.itemsForDrools={itemsListForDrools:listItemsForDrools,ageList:ageList,startDate:vm.startDate,endDate:vm.endDate},console.log("ITEMS FOR DROOLS"),console.log(vm.itemsForDrools),BuyService.postCalculate(vm.itemsForDrools).then(function(response){vm.droolPrices=response.data,localStorageService.cookie.set("droolPrices.premiumPrice",vm.droolPrices.premiumPrice),localStorageService.cookie.set("droolPrices.discountPrice",vm.droolPrices.discountPrice),localStorageService.cookie.set("droolPrices.taxPrice",vm.droolPrices.taxPrice),localStorageService.cookie.set("droolPrices.totalPrice",vm.droolPrices.totalPrice)}),$state.go("buy.thirdStep")}},vm.calculateFourthStep=function(){vm.submittedFourth=!0,vm.formFourth.$invalid||(vm.submittedFourth=!1,localStorageService.cookie.set("buyer.firstName",vm.buyer.firstName),localStorageService.cookie.set("buyer.lastName",vm.buyer.lastName),localStorageService.cookie.set("buyer.jmbg",vm.buyer.jmbg),localStorageService.cookie.set("buyer.passportNumber",vm.buyer.passportNumber),localStorageService.cookie.set("buyer.address",vm.buyer.address),localStorageService.cookie.set("buyer.phoneNumber",vm.buyer.phoneNumber),localStorageService.cookie.set("buyer.email",vm.buyer.email),localStorageService.cookie.set("personHolder.firstName",vm.personHolder.firstName),localStorageService.cookie.set("personHolder.lastName",vm.personHolder.lastName),localStorageService.cookie.set("personHolder.address",vm.personHolder.address),localStorageService.cookie.set("personHolder.jmbg",vm.personHolder.jmbg),localStorageService.cookie.set("personHolder.passportNumber",vm.personHolder.passportNumber),localStorageService.cookie.set("personHolder.phoneNumber",vm.personHolder.phoneNumber),localStorageService.cookie.set("contractor",vm.contractor),localStorageService.cookie.set("persons",vm.persons),$state.go("buy.fifthStep"))},vm.calculateFifthStep=function(){if(vm.submitted=!0,!vm.formFifth.$invalid){vm.language=$translate.use(),console.log("LISTA PERSONA"),console.log(vm.persons);var insuranceInfo={};insuranceInfo={contractor:vm.contractor,vehicle:vm.vehicle,home:vm.home,personHolder:vm.personHolder,persons:vm.persons,buyer:vm.buyer,itemsForDrools:vm.itemsForDrools,premiumPrice:vm.droolPrices.premiumPrice,language:vm.language,discountPrice:vm.droolPrices.discountPrice,taxPrice:vm.droolPrices.taxPrice,totalPrice:vm.droolPrices.totalPrice},console.log("InsuranceInfo: "),console.log(insuranceInfo),BuyService.buy(insuranceInfo).then(function(response){console.log("Odgovor iz buy"),vm.paymentUrlAndID=response.data,console.log(vm.paymentUrlAndID),$timeout(function(){$window.location=vm.paymentUrlAndID.url},2e5)})}},vm.towingChecking=function(){vm.towingCheck||(vm.towingSelected=null)},vm.repairsChecking=function(){vm.repairsCheck||(vm.repairSelected=null)},vm.accommodationsChecking=function(){vm.accommodationsCheck||(vm.accommodationSelected=null)},vm.alternativeRidesChecking=function(){vm.alternativeRidesCheck||(vm.alternativeRideSelected=null)},vm.insuranceTypeChecking=function(){vm.alternativeRidesCheck||(vm.alternativeRideSelected=null)},vm.insuranceTypeRoadChecking=function(){vm.insuranceTypeRoadCheck||(vm.submittedSecondRoad=!1,vm.towingCheck=!1,vm.towingSelected=null,vm.repairsCheck=!1,vm.repairSelected=null,vm.accommodationsCheck=!1,vm.accommodationSelected=null,vm.alternativeRidesCheck=!1,vm.alternativeRideSelected=null,vm.vehicle={make:"",registrationNumber:"",ownerFirstName:"",ownerLastName:"",ownerJmbg:"",type:"",vinNumber:"",yearOfProduction:""})},vm.insuranceTypeHomeChecking=function(){vm.insuranceTypeHomeCheck||(vm.submittedSecondHome=!1,vm.surfaceSelected=null,vm.ageApartmentSelected=null,vm.valueApartmentSelected=null,vm.disasterSelected=null,vm.home={address:"",ownerFirstName:"",ownerLastName:"",ownerJMBG:""})},vm.contractorChange=function(){vm.personHolder={firstName:"",lastName:"",address:"",jmbg:"",passportNumber:"",phoneNumber:""}},vm.firstPremission=function(){console.log("JEJ")},vm.secondPremission=function(){return console.log("dva"),console.log($state.current.name),!!$state.is("buy.firstStep")},vm.thirdPremission=function(){return console.log("dva"),console.log($state.current.name),!(!$state.is("buy.firstStep")&&!$state.is("buy.secondStep"))},vm.fourthPremission=function(){return console.log("dva"),console.log($state.current.name),!!($state.is("buy.firstStep")||$state.is("buy.secondStep")||$state.is("buy.thirdStep"))},vm.fifthPremission=function(){return console.log("dva"),console.log($state.current.name),!!($state.is("buy.firstStep")||$state.is("buy.secondStep")||$state.is("buy.thirdStep")||$state.is("buy.fourthStep"))}}angular.module("merchantApp").controller("BuyCtrl",BuyCtrl),BuyCtrl.$inject=["$scope","$rootScope","BuyService","$state","$timeout","$window","$translate","localStorageService"]}(),function(){"use strict";function AboutCtrl($scope,$rootScope,$translate){var vm=this;console.log($translate.use()),vm.language=$translate.use(),console.log(vm.language)}angular.module("merchantApp").controller("AboutCtrl",AboutCtrl),AboutCtrl.$inject=["$scope","$rootScope","$translate"]}(),function(){"use strict";function config($stateProvider,$urlRouterProvider,$locationProvider,$translateProvider){$urlRouterProvider.otherwise("/home"),$urlRouterProvider.when("/buy","/buy/firstStep"),$stateProvider.state("home",{url:"/home",views:{content:{templateUrl:"app/components/home/home.html",controller:"HomeCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}}}).state("about",{url:"/about",views:{content:{templateUrl:"app/components/about/about.html",controller:"AboutCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}}}).state("paymentSuccessful",{url:"/paymentSuccessful?paymentId",views:{content:{templateUrl:"app/components/url/url.html",controller:"UrlCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}}}).state("paymentFailed",{url:"/paymentFailed?paymentId",views:{content:{templateUrl:"app/components/url/url.html",controller:"UrlCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}}}).state("paymentError",{url:"/paymentError?paymentId",views:{content:{templateUrl:"app/components/url/url.html",controller:"UrlCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}}}).state("buy",{url:"/buy",views:{content:{templateUrl:"app/components/buy/views/buy.html",controller:"BuyCtrl",controllerAs:"vm"},navigation:{templateUrl:"app/components/navigation/navigation.html",controller:"NavigationCtrl",controllerAs:"vm"}},abstract:!0}).state("buy.firstStep",{url:"/firstStep",templateUrl:"app/components/buy/views/buyFirstStep.html"}).state("buy.secondStep",{url:"/secondStep",templateUrl:"app/components/buy/views/buySecondStep.html"}).state("buy.thirdStep",{url:"/thirdStep",templateUrl:"app/components/buy/views/buyThirdStep.html"}).state("buy.fourthStep",{url:"/fourthStep",templateUrl:"app/components/buy/views/buyFourthStep.html"}).state("buy.fifthStep",{url:"/fifthStep",templateUrl:"app/components/buy/views/buyFifthStep.html"}),$locationProvider.html5Mode(!0);var eng={passportErr:"Passport num. must be 9 characters.",jmbgErr:"JMBG must be 13 characters.",selectPackage:"Select at least one package",requiredPerson:"At least one person has to be insured",homeUrl:"Return to homepage of ChuckNorris insruance",bankUrl:"Return to bank to change data of card",successfulPayment:"Successful payment",errorPayment:"Error has occurred",failedPayment:"Payment failed",durationMust:"Duration must be at least 1 day",specLength:"Characters length must be ",minLength:"Min characters is ",maxLength:"Max characters is ",invalidEmail:"This is not a valid email",requiredFieldPackage:"Field required or uncheck package",requiredOption:"Option required",requiredField:"Field required",requiredFields:"Fill up all required fields for person",cn:"Chuck Norris Insurance",eng:"English (En)",srb:"Serbian (Sr)",language:"Language",home:"Home",buyInsurance:"Buy insurance",about:"About us",sumToInsure:"Sum to insure:",selectAge:"-Select age-",selectDestination:"-Select destination-",region:"Region:",ageInsuranceCarrier:"Insurance carrier age:",numberOfInsurancedPersons:"Number of insuranced persons:",to18:"to 18",over60:"over 60",age_replacement:"{{name}}",durationOfInsurance:"Duration of insurance:",from:"From:",to:"To:",selectSport:"-Select sport-",firsts:"Basic info",seconds:"Packages",thirds:"Price",fourths:"Persons info",fifths:"Confirmation",travelInsuranceMessage:"Travel insurance",nextSection:"Next section",previousSection:"Previous section",additionalInsurance:"Additional insurance:",additionalPackages:"Additional packages:",towing:"Towing to a certain mileage:",selectMileage:"-Select mileage-",repairsTo:"Repairs to a certain price: ",selectPrice:"-Select price-",accommodation:"Accommodation in hotel to certain days:",selectNumberOfDays:"-Select days-",alternativeRide:"Alternative ride:",selectRide:"-Select ride-",vehicleInformations:"Vehicle informations:",registrationNumber:"Registration number:",vehicleMake:"Vehcile make:",vehicleOwnerFN:"Vehicle owner first name:",vehicleOwnerLN:"Vehicle owner last name:",vehicleOwnerJMBG:"Vehicle owner JMBG:",vehicleType:"Vehicle type:",vinNumber:"Vin number:",yearOfProduction:"Year of production:",homeInfo:"Home informations:",address:"Address",homeOwnerFN:"Home owner first name:",homeOwnerLN:"Home owner last name:",homeOwnerJMBG:"Home owner JMBG:",surface:"Surface of home:",selectSurface:"-Select surface-",ageOfHome:"Age of home:",estimatedValue:"Estimated value of home:",selectValue:"-Select value-",insureFrom:"Insure from:",selectType:"-Select type-",insurancePremium:"Insurance premium:",discount:"Discount:",tax:"Tax:",totalPayment:"Total payment:",insurancedPersons:"Insuranced persons:",insuranceContractorInfo:"Insurance contractor informations",firstName:"First name",lastName:"Last name",jmbg:"Identification number",passportNumber:"Passport num.",phoneNumber:"Phone num.",insuranceContractor:"Insurance contractor is:",spaic:" a same person as insurance carrier.",nspaic:"NOT a same person as insurance carrier.",insuranceInformation:"Insurance informations:",additionalInsurances:"Additional insurances:",to1:"to",cni:"Hello, we are Chuck Norris insurance company.",moto:"Our moto is",question:"But the question is, are we safe enough?!",answer:"Answer is simple... We are NOT.",so:"So,",buy:"buy",rest:"Chuck Norris insurace and travel safe.",withangels:"-Travel with angles & Chuck Norris insurance-"},ser={passportErr:"Pasoš mora da ima 9 karaktera.",jmbgErr:"JMBG mora da bude 13 karaktera.",selectPackage:"Odaberite bar jedan paket",requiredPerson:"Barem jedna osoba mora biti osigurana",homeUrl:"Vratite se na početak stranice Chuck Norris osiguranja",bankUrl:"Vratite se na banku da promenite podatke o kartici",successfulPayment:"Uspešno plaćanje",errorPayment:"Dogodila se greška",failedPayment:"Neuspešno plaćanje",durationMust:"Razlika datuma mora biti barem 1 dan",specLength:"Broj karaktera mora biti ",minLength:"Najmanja dužina je ",maxLength:"Najveća dužina je ",invalidEmail:"Email nije validan",requiredFieldPackage:"Obavezno polje ili odstiklirati paket",requiredOption:"Obavezna opcija",requiredField:"Obavezno polje",requiredFields:"Popunite sva obavezna polja za osobu",cn:"Chuck Norris osiguranje",eng:"Engleski (En)",srb:"Srpski (Sr)",language:"Jezik",home:"Početna",buyInsurance:"Kupi osiguranje",about:"O nama",selectDestination:"-Odaberite destinaciju-",selectAge:"-Odaberite godine-",region:"Region",sumToInsure:"Osigurana suma:",ageInsuranceCarrier:"Uzrast nosioca osiguranja",numberOfInsurancedPersons:"Broj osiguranika",to18:"do 18",over60:"preko 60",age_replacement:"{{name}}",durationOfInsurance:"Trajanje osiguranja",from:"Od",to:"Do",selectSport:"-Odaberite sport-",firsts:"Osnovni podaci",seconds:"Paketi",thirds:"Cena",fourths:"Podaci osoba",fifths:"Potvrda",travelInsuranceMessage:"Putno osiguranje",nextSection:"Sledeći korak",previousSection:"Predhodni korak",additionalInsurance:"Dodatno osiguranje",additionalPackages:"Dodatni paketi",towing:"Šlepanje do određene kilometraže",selectMileage:"-Odaberite kilometražu-",repairsTo:"Popravka do određene cene",selectPrice:"-Odaberite cenu-",accommodation:"Smeštaj u hotelu do određenog broja dana",selectNumberOfDays:"-Odaberite broj dana-",alternativeRide:"Alternativni prevoz",selectRide:"-Odaberite prevoz-",vehicleInformations:"Informacije o vozilu",registrationNumber:"Broj registracije",vehicleMake:"Marka vozila",vehicleOwnerFN:"Ime vlasnika vozila",vehicleOwnerLN:"Prezime vlasnika vozila",vehicleOwnerJMBG:"JMBG vlasnika vozila",vehicleType:"Tip vozila",vinNumber:"Broj šasije",yearOfProduction:"Godina proizvodnje",homeInfo:"Informacije o kući/stanu",address:"Adresa",homeOwnerFN:"Ime vlasnika kuće/stana",homeOwnerLN:"Prezime vlasnika kuće/stana",homeOwnerJMBG:"JMBG vlasnika kuće/stana",surface:"Površina kuće/stana",selectSurface:"-Odaberite površinu",ageOfHome:"Starost kuće/stana",estimatedValue:"Procenjena vrednost kuće/stana",selectValue:"-Izaberite vrednost-",insureFrom:"Osigurati od",selectType:"-Odaberite tip-",insurancePremium:"Premija osiguranja",discount:"Popust",tax:"Porez",totalPayment:"Ukupno za uplatu",insurancedPersons:"Osigurane osobe",insuranceContractorInfo:"Informacije o ugovaraču osiguranja",firstName:"Ime",lastName:"Prezime",jmbg:"JMBG",passportNumber:"Br. pasoša",phoneNumber:"Br. telefona",insuranceContractor:"Ugovarač osiguranja je:",spaic:"nosilac osiguranja.",nspaic:"druga osoba koja nije nosilac osiguranja.",
insuranceInformation:"Informacije o osiguranju",additionalInsurances:"Dodatna osiguranja",to1:"do",cni:"Mi smo Chuck Norris osiguravajuća kompanija.",moto:"Naš moto je",question:"Ali pitanje je, da li smo dovoljno bezbedni?!",answer:"Odgovor je jednostavan... NISMO.",so:"Zato,",buy:"kupite",rest:"Chuck Norris osiguranje i putujte bezbedno.",withangels:"-Putujte sa anđelima & Chuck Norris osiguranjem-"};$translateProvider.translations("English",eng).translations("Serbian",ser).preferredLanguage("English"),$translateProvider.useSanitizeValueStrategy("escaped")}function run($rootScope,$state,localStorageService,$translate){$translate.use(localStorageService.cookie.get("language"))}angular.module("merchantApp").config(config).run(run)}();